/*
  DC ELO 2.0 – Global Styles
  --------------------------
  This file intentionally contains the core design tokens and primitives.
  Keeping them centralized makes future AI-assisted iterations safer.
*/

:root {
  --ease: cubic-bezier(0.16, 1, 0.3, 1);
  --dur: 220ms;

  --radius-sm: 10px;
  --radius-md: 16px;
  --radius-lg: 18px;
  --radius-xl: 28px;

  --shadow-L1: 0 6px 16px rgba(0, 0, 0, 0.10);
  --shadow-L2: 0 10px 24px rgba(0, 0, 0, 0.14);
  --shadow-L3: 0 16px 40px rgba(0, 0, 0, 0.18);
  --shadow-L4: 0 22px 60px rgba(0, 0, 0, 0.28);
  --shadow-L5: 0 30px 90px rgba(0, 0, 0, 0.40);

  --data-primary: #4f6bff;
  --data-positive: #22c55e;
  --data-negative: #ef4444;
  --data-highlight: #fbbf24;
  --data-secondary: #8b5cf6;

  --chart-grid-light: rgba(0, 0, 0, 0.06);
  --chart-grid-dark: rgba(255, 255, 255, 0.08);

  --container: 1180px;
}

:root[data-theme='light'] {
  --bg: #ececee;
  --bg2: #e4e5e7;
  --text: #0e0f12;
  --text-2: rgba(14, 15, 18, 0.66);
  --panel-bg: rgba(255, 255, 255, 0.82);
  --panel-bg-soft: rgba(255, 255, 255, 0.62);
  --panel-border: rgba(0, 0, 0, 0.07);
  --overlay: rgba(0, 0, 0, 0.25);
  --chart-grid: var(--chart-grid-light);
}

:root[data-theme='dark'] {
  --bg: #1c1c1e;
  --bg2: #202124;
  --text: #f5f6f7;
  --text-2: rgba(245, 246, 247, 0.70);
  --panel-bg: rgba(10, 10, 12, 0.58);
  --panel-bg-soft: rgba(10, 10, 12, 0.42);
  --panel-border: rgba(255, 255, 255, 0.10);
  --overlay: rgba(0, 0, 0, 0.60);
  --chart-grid: var(--chart-grid-dark);

  /* slightly stronger shadows in dark mode */
  --shadow-L1: 0 7px 18px rgba(0, 0, 0, 0.14);
  --shadow-L2: 0 12px 28px rgba(0, 0, 0, 0.18);
  --shadow-L3: 0 18px 48px rgba(0, 0, 0, 0.26);
  --shadow-L4: 0 26px 70px rgba(0, 0, 0, 0.36);
  --shadow-L5: 0 36px 100px rgba(0, 0, 0, 0.52);
}

* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, 'Inter', 'Segoe UI', Roboto, Arial, sans-serif;
  color: var(--text);
  background: var(--bg);
  overflow-x: hidden;
}

/*
  Global background – fixed gradient + subtle radial glow + ultra-light noise.
  This is intentionally on body pseudo elements so the background is seamless on scroll.
*/
body::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -2;
  background:
    radial-gradient(900px 600px at 12% 12%, rgba(99, 102, 241, 0.16), transparent 60%),
    radial-gradient(800px 500px at 78% 32%, rgba(168, 85, 247, 0.12), transparent 58%),
    linear-gradient(135deg, #0f172a 0%, #111827 100%);
  transform: translateZ(0);
}

:root[data-theme='light'] body::before {
  background:
    radial-gradient(900px 600px at 12% 12%, rgba(99, 102, 241, 0.12), transparent 60%),
    radial-gradient(800px 500px at 78% 32%, rgba(168, 85, 247, 0.10), transparent 58%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
}

body::after {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  opacity: 0.022;
  mix-blend-mode: overlay;
}

a { color: inherit; text-decoration: none; }

.page {
  min-height: 100%;
}

.container {
  max-width: var(--container);
  margin: 0 auto;
  padding: 24px 20px 64px;
}

.section {
  margin-top: 28px;
}

.sectionHeader {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 14px;
}

.sectionTitle {
  font-size: 20px;
  margin: 0;
  letter-spacing: -0.02em;
}

.sectionMeta {
  color: var(--text-2);
  font-size: 12px;
}

/* Topbar */
.topbar {
  position: sticky;
  top: 0;
  z-index: 30;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border-bottom: 1px solid var(--panel-border);
  background: rgba(0, 0, 0, 0.10);
}
:root[data-theme='light'] .topbar {
  background: rgba(255, 255, 255, 0.48);
}

.topbarInner {
  max-width: var(--container);
  margin: 0 auto;
  padding: 14px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.brand { display: flex; align-items: center; gap: 12px; }
.brandMark {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.25), transparent 50%),
    linear-gradient(135deg, rgba(99,102,241,0.85), rgba(168,85,247,0.80));
  box-shadow: var(--shadow-L2);
}
.brandTitle { font-weight: 750; letter-spacing: -0.02em; }
.brandSub { font-size: 11px; color: var(--text-2); margin-top: 2px; }

.nav { display: none; gap: 18px; }
.navLink { color: var(--text-2); font-size: 13px; }
.navLink:hover { color: var(--text); }

.topbarActions { display: inline-flex; align-items: center; gap: 10px; }

@media (min-width: 920px) {
  .nav { display: flex; }
}

/* Panels */
.panel {
  position: relative;
  background: var(--panel-bg);
  border: 1px solid var(--panel-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-L3);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
  overflow: hidden;
  transition: box-shadow var(--dur) var(--ease), border-color var(--dur) var(--ease), transform var(--dur) var(--ease);
}

.panel::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.18) 0%,
    rgba(255, 255, 255, 0.06) 22%,
    rgba(255, 255, 255, 0.00) 55%
  );
  opacity: 0.65;
}

.panel::after {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: calc(var(--radius-lg) - 1px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  pointer-events: none;
  opacity: 0.8;
}
:root[data-theme='light'] .panel::after { border-color: rgba(0,0,0,0.06); }

.panel:hover { box-shadow: var(--shadow-L4); }

.panel--soft {
  background: var(--panel-bg-soft);
}

/* lightweight variant for long lists (performance) */
.panel--row {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: var(--shadow-L1);
}
.panel--row::before,
.panel--row::after {
  opacity: 0.28;
}

/* Buttons */
.iconBtn {
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid var(--panel-border);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: transform 160ms var(--ease), background 160ms var(--ease);
}
.iconBtn:hover { transform: translateY(-1px); background: rgba(255, 255, 255, 0.10); }
:root[data-theme='light'] .iconBtn { background: rgba(0,0,0,0.04); }

/* Theme toggle */
.themeToggle {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--panel-border);
  background: rgba(255, 255, 255, 0.06);
  box-shadow: var(--shadow-L1);
  cursor: pointer;
}
:root[data-theme='light'] .themeToggle { background: rgba(0,0,0,0.03); }

.themeToggleLabel {
  font-size: 13px;
  color: var(--text-2);
  width: 54px;
  text-align: left;
}

.themeToggleTrack {
  position: relative;
  width: 56px;
  height: 28px;
  border-radius: 999px;
  border: 1px solid var(--panel-border);
  background: rgba(0, 0, 0, 0.18);
  overflow: hidden;
}
:root[data-theme='light'] .themeToggleTrack { background: rgba(255,255,255,0.55); }

.themeToggleThumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.82);
  box-shadow: var(--shadow-L2);
  display: grid;
  place-items: center;
  transition: transform 160ms var(--ease), background 160ms var(--ease);
  will-change: transform;
}
:root[data-theme='dark'] .themeToggleThumb {
  transform: translateX(28px);
  background: rgba(10, 10, 12, 0.72);
}

.iconSun,
.iconMoon {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  transition: opacity 120ms var(--ease), transform 160ms var(--ease);
}
.iconSun { opacity: 1; transform: rotate(0deg) scale(1); }
.iconMoon { opacity: 0; transform: rotate(-20deg) scale(0.9); }
:root[data-theme='dark'] .iconSun { opacity: 0; transform: rotate(20deg) scale(0.9); }
:root[data-theme='dark'] .iconMoon { opacity: 1; transform: rotate(0deg) scale(1); }

/* Data source toggle */
.sourceToggle {
  display: inline-flex;
  gap: 4px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--panel-border);
  background: rgba(255, 255, 255, 0.06);
  box-shadow: var(--shadow-L1);
}
:root[data-theme='light'] .sourceToggle { background: rgba(0,0,0,0.03); }

.sourceBtn {
  padding: 8px 12px;
  border-radius: 999px;
  border: 0;
  background: transparent;
  color: var(--text-2);
  font-size: 13px;
  cursor: pointer;
  transition: background var(--dur) var(--ease), color var(--dur) var(--ease);
}

.sourceBtn.active {
  background: rgba(255, 255, 255, 0.22);
  color: var(--text);
}
:root[data-theme='light'] .sourceBtn.active { background: rgba(0, 0, 0, 0.08); }

/* Banner */
.banner {
  padding: 18px;
  border-radius: 22px;
}

.bannerOrbs {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(520px 320px at 18% 30%, rgba(99,102,241,0.22), transparent 60%),
    radial-gradient(580px 340px at 70% 20%, rgba(168,85,247,0.18), transparent 58%);
  opacity: 0.9;
}

.bannerContent {
  position: relative;
  display: flex;
  justify-content: space-between;
  gap: 16px;
  align-items: flex-end;
}

.bannerKicker {
  color: var(--text-2);
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.bannerTitle {
  margin: 10px 0 0;
  font-size: 34px;
  letter-spacing: -0.03em;
}

.bannerSubtitle {
  margin: 10px 0 0;
  color: var(--text-2);
  max-width: 62ch;
  line-height: 1.5;
}

.bannerControls {
  display: flex;
  align-items: center;
  gap: 10px;
}

.dots { display: inline-flex; gap: 8px; }
.dot {
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.18);
}
.dot.active { background: rgba(255,255,255,0.48); }
:root[data-theme='light'] .dot { background: rgba(0,0,0,0.12); }
:root[data-theme='light'] .dot.active { background: rgba(0,0,0,0.28); }

@media (max-width: 720px) {
  .bannerContent { flex-direction: column; align-items: stretch; }
  .bannerTitle { font-size: 28px; }
  .bannerControls { justify-content: space-between; }
}

/* KPI grid */
.kpiGrid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

@media (max-width: 920px) {
  .kpiGrid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 540px) {
  .kpiGrid { grid-template-columns: 1fr; }
}

.kpi {
  padding: 16px 16px 14px;
}

.kpiTop { display: flex; align-items: center; gap: 10px; }
.kpiIcon {
  width: 30px;
  height: 30px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid var(--panel-border);
}
:root[data-theme='light'] .kpiIcon { background: rgba(0,0,0,0.03); }

.kpiLabel { color: var(--text-2); font-size: 12px; }
.kpiValue {
  margin-top: 10px;
  font-size: 32px;
  font-weight: 750;
  letter-spacing: -0.02em;
}
.kpiHint { margin-top: 6px; color: var(--text-2); font-size: 12px; }

.kpi--primary .kpiValue { color: var(--data-primary); }
.kpi--highlight .kpiValue { color: var(--data-highlight); }

.skeleton {
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.08);
  animation: pulse 1200ms ease-in-out infinite;
}
:root[data-theme='light'] .skeleton { background: rgba(0,0,0,0.06); }
@keyframes pulse { 0%, 100% { opacity: 0.55; } 50% { opacity: 0.95; } }

/* Charts layout */
.charts {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.chartPanel { padding: 14px; }
.chartPanel--wide { grid-column: 1 / -1; }

@media (max-width: 920px) {
  .charts { grid-template-columns: 1fr; }
  .chartPanel--wide { grid-column: auto; }
}

.panelHeader {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 10px;
}
.panelTitle { font-weight: 700; letter-spacing: -0.01em; }
.panelSub { margin-top: 4px; color: var(--text-2); font-size: 12px; }

.chartBody { height: 260px; }
.chartPanel:not(.chartPanel--wide) .chartBody { height: 220px; }

.chartTooltip {
  padding: 10px 10px;
  min-width: 140px;
}
.chartTooltipTitle { font-weight: 700; margin-bottom: 6px; }
.chartTooltipRow { display: flex; justify-content: space-between; gap: 8px; font-size: 12px; color: var(--text-2); }
.chartTooltipVal { color: var(--text); font-variant-numeric: tabular-nums; }

.chartPlaceholder {
  display: grid;
  place-items: center;
  height: 100%;
  border-radius: 14px;
  border: 1px dashed var(--panel-border);
  background: rgba(255, 255, 255, 0.04);
}
:root[data-theme='light'] .chartPlaceholder { background: rgba(0,0,0,0.03); }

.placeholderText { color: var(--text-2); font-size: 13px; }

/* Leaderboard */
.leaderboardHeader { align-items: center; }
.leaderboardTools { display: flex; justify-content: flex-end; width: 100%; }

.search {
  width: 280px;
  max-width: 100%;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--panel-border);
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  outline: none;
}
:root[data-theme='light'] .search { background: rgba(0,0,0,0.03); }
.search::placeholder { color: var(--text-2); }

@media (max-width: 720px) {
  .leaderboardHeader { flex-direction: column; align-items: stretch; }
  .leaderboardTools { justify-content: flex-start; }
  .search { width: 100%; }
}

.leaderboardPanel { padding: 12px; }

.tableHeader {
  display: grid;
  grid-template-columns: 64px 1.6fr 0.8fr 0.8fr 0.9fr 0.9fr 0.8fr;
  gap: 10px;
  padding: 10px 10px;
  color: rgba(255, 255, 255, 0.5);
  font-size: 12px;
}
:root[data-theme='light'] .tableHeader { color: rgba(0,0,0,0.45); }

.th { font-variant-numeric: tabular-nums; }

.tableLoading {
  padding: 18px 10px;
  color: var(--text-2);
}

.playerRow {
  width: 100%;
  display: grid;
  grid-template-columns: 64px 1.6fr 0.8fr 0.8fr 0.9fr 0.9fr 0.8fr;
  gap: 10px;
  align-items: center;
  padding: 10px 10px;
  margin: 6px 0;
  text-align: left;
  cursor: pointer;
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, 'Inter', 'Segoe UI', Roboto, Arial, sans-serif;
  font-variant-numeric: tabular-nums;
  transition: background var(--dur) var(--ease), border-color var(--dur) var(--ease), transform var(--dur) var(--ease);
}

.playerRow:hover {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.10);
  transform: translateY(-1px);
}
:root[data-theme='light'] .playerRow:hover {
  background: rgba(0,0,0,0.03);
  border-color: rgba(0,0,0,0.08);
}

.cell.name { font-weight: 650; letter-spacing: -0.01em; }
.cell { color: var(--text); }

/* Modal */
.modalOverlay {
  position: fixed;
  inset: 0;
  z-index: 60;
  display: grid;
  place-items: center;
  padding: 18px;
}

.modalBackdrop {
  position: fixed;
  inset: 0;
  border: 0;
  background: var(--overlay);
  cursor: pointer;
}

.modal {
  width: min(920px, 100%);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-L5);
  backdrop-filter: blur(26px);
  -webkit-backdrop-filter: blur(26px);
  padding: 16px;
  z-index: 1;
}

.modalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.modalTitle { font-weight: 800; letter-spacing: -0.02em; font-size: 20px; }
.modalSub { color: var(--text-2); font-size: 12px; margin-top: 4px; }

.modalBody { margin-top: 14px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

@media (max-width: 820px) {
  .modalBody { grid-template-columns: 1fr; }
}

.modalStats {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.stat {
  padding: 12px;
  border-radius: 16px;
  border: 1px solid var(--panel-border);
  background: rgba(255, 255, 255, 0.06);
}
:root[data-theme='light'] .stat { background: rgba(0,0,0,0.03); }

.statLabel { color: var(--text-2); font-size: 12px; }
.statValue { margin-top: 6px; font-size: 20px; font-weight: 750; }

.modalChart { padding: 14px; }

/* Error */
.errorPanel { padding: 14px; margin-bottom: 12px; }
.errorTitle { font-weight: 750; }
.errorText { margin-top: 6px; color: var(--text-2); }
.errorHint { margin-top: 10px; color: var(--text-2); font-size: 12px; }

/* Motion safety */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}
